---
title: "æ–°ä¸–ä»£ã®neovimãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£lazy.nvimã®ç´¹ä»‹"
emoji: "ğŸ’¤"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["neovim"]
published: true
published_at: 2024-01-29
publication_name: vim_jp
---

## ã¯ã˜ã‚ã«
neovimã§ã¯luaã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãå ´åˆã€ã‹ã¤ã¦ã¯[`packer.nvim`](https://github.com/wbthomason/packer.nvim)ã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒä¸»æµã§ã—ãŸã€‚
ã—ã‹ã—ç¾åœ¨ã¯ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ç¾åœ¨ã¯[`lazy.nvim`](https://github.com/folke/lazy.nvim)ã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ã€‚

## lazy.nvimã®è‰¯ã„ã¨ã“ã‚
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ç®¡ç†ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã«åˆ†å‰²ã§ãã‚‹ãŸã‚ã€éå¸¸ã«ç®¡ç†ã—ã‚„ã™ã„ã€‚
- setupã‚’ã‚ã–ã‚ã–æ›¸ã‹ãªãã¦ã‚ˆã„ã€‚
- é€Ÿã„
- ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç”»é¢ãŒç¶ºéº—

æœ€åˆã®äºŒç‚¹ãŒå€‹äººçš„ã«æ°—ã«å…¥ã£ã¦ã„ã¾ã™ã€‚

## ä½¿ç”¨ä¾‹
ã“ã®è¨˜äº‹ã§ä½¿ç”¨ã™ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã§ã™ã€‚
```zsh
~/.config/nvim/
â”œâ”€â”€ init.lua
â”œâ”€â”€ lua
â”‚Â Â  â”œâ”€â”€ core
â”‚Â Â  â””â”€â”€ plugins
â””â”€â”€ stylua.toml
```
ã¾ãšã¯READMEã«ã‚ã‚‹ã‚ˆã†ã«ã€bootstrapã‚’æ›¸ãã¾ã—ã‚‡ã†ã€‚
```lua:init.lua
local lazypath = vim.fn.stdpath("data") .. "/lazy/lazy.nvim"
if not vim.loop.fs_stat(lazypath) then
  vim.fn.system({
    "git",
    "clone",
    "--filter=blob:none",
    "https://github.com/folke/lazy.nvim.git",
    "--branch=stable", -- latest stable release
    lazypath,
  })
end
vim.opt.rtp:prepend(lazypath)
```

ãã—ã¦æ¬¡ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç®¡ç†ã™ã‚‹é–¢æ•°ã‚’æ›¸ãã¾ã™ã€‚
```lua
require("lazy").setup("plugins", {
  performance = {
    rtp = {
      disabled_plugins = {
        "netrw",
        "netrwPlugin",
        "netrwSettings",
        "netrwFileHandlers",
      },
    },
  },
})
```
lazy.nvimã®å‡„ã„ã¨ã“ã‚ã¯ã€ç¬¬ä¸€å¼•æ•°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’æ–‡å­—åˆ—ã¨ã—ã¦æ¸¡ã—ã¦ã—ã¾ãˆã°è¨­å®šã‚’è‡ªå‹•ã§èª­ã¿è¾¼ã‚“ã§ãã‚Œã‚‹ã“ã¨ã§ã™ã€‚ã“ã“ã§ã¯`"plugins"`ã‚’æ¸¡ã—ã¦ã„ã¾ã™ã€‚
ç¬¬äºŒå¼•æ•°ã§ã¯neovimè‡ªä½“ã«çµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ä¸è¦ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’èª­ã¿è¾¼ã¾ãªã„ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚
ã§ã¯å®Ÿéš›ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¨­å®šã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã®ã‚ˆã†ã«tableã‚’è¿”ã™ã ã‘ã§ä½¿ç”¨ã§ãã¾ã™ã€‚
```lua:plugins/others.lua
return {
  {
    "windwp/nvim-autopairs",
    config = true,
  },
}
```
ãŸã£ãŸã“ã‚Œã ã‘ã§ã™ã€‚`require("nvim-autopairs").setup {}`ã¨æ›¸ãã“ã¨ã™ã‚‰ã‚‚ä¸è¦ã§ã™ã€‚
`setup{}`ã«ãªã«ã‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ¸¡ã—ãŸã„å ´åˆã¯
```lua
  {
    "max397574/better-escape.nvim",
    opts = {
      mapping = { "kj", "jj" },
    },
  },
```
ã®ã‚ˆã†ã«optsã«ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ¸¡ã™ã ã‘ã§å¯èƒ½ã§ã™ã€‚
è¨­å®šã‚’ã‚ˆã‚Šå¤šãæ›¸ããŸã„å ´åˆã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§å‹æ‰‹ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å…¥ã‚Œã¦ãã‚Œã¾ã™ã€‚
```lua
return {
  "numToStr/Comment.nvim",
  event = "UIEnter",
  dependencies = { "JoosepAlviste/nvim-ts-context-commentstring" },
  opts = {
    enable_autocmd = false,
    toggler = {
      line = "<Leader>/",
    },
    extra = {
      eol = "<Leader>a",
    },
    pre_hook = function()
      require("ts_context_commentstring.integrations.comment_nvim").create_pre_hook()
    end,
  },
}
```
ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’æ¶ˆã—ãŸã„å ´åˆã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã™ã‚‹ã ã‘ã§ã™ã€‚

### ã¾ã¨ã‚
lazy.nvimå‡„ã„ãï¼ã£ã¦è¨˜äº‹ã§ã—ãŸã€‚READMEã«ã¯ã“ã“ã«ã¯ç´¹ä»‹ã—ãã‚Œãªã„å¤šãã®æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚
neovimã‚’ä½¿ã£ã¦ã„ã¦ã€è¨­å®šã‚’luaã§æ›¸ããŸã„ã¨ã„ã†äººã¯ãœã²è©¦ã—ã¦ã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ã€‚

### ãŠã¾ã‘
ã“ã®è¨˜äº‹ã§å‚è€ƒã«ã—ãŸè¨­å®šã§ã™ã€‚ãœã²æ´»ç”¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚
https://github.com/Liquid-system/dotfiles/tree/main/nvim